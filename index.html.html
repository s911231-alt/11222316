<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <title>Terzaghi 承載力計算器</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 30px; }
    label { display:block; margin-top:10px; }
    input { width:120px; }
    .result { margin-top:20px; font-weight:bold; }
  </style>
</head>
<body>

<h2>Terzaghi 極限 / 准許承載力計算</h2>

<label>土壤凝聚力 c' (kPa)
  <input type="number" id="c" value="20">
</label>

<label>土壤單位重 γ (kN/m³)
  <input type="number" id="gamma" value="18">
</label>

<label>基礎寬度 B (m)
  <input type="number" id="B" value="2">
</label>

<label>基礎深度 Df (m)
  <input type="number" id="Df" value="1">
</label>

<label>土壤摩擦角 ϕ' (度)
  <input type="number" id="phi" value="30">
</label>

<label>安全係數 FS
  <input type="number" id="FS" value="3">
</label>

<br>
<button onclick="calculate()">計算</button>

<div class="result">
  <p>承載力係數：</p>
  <ul>
    <li>N<sub>c</sub> = <span id="Nc">-</span></li>
    <li>N<sub>q</sub> = <span id="Nq">-</span></li>
    <li>N<sub>γ</sub> = <span id="Ng">-</span></li>
  </ul>
  <p>極限承載力 q<sub>u</sub> = <span id="qu">-</span> kPa</p>
  <p>准許承載力 q<sub>all</sub> = <span id="qall">-</span> kPa</p>
</div>

<script>
// Terzaghi 承載力係數查表 (ϕ' : Nc, Nq, Nγ)
const bearingTable = {
  0:[5.70,1.00,0.00], 1:[6.00,1.10,0.01], 2:[6.30,1.22,0.04], 3:[6.62,1.35,0.06], 4:[6.97,1.49,0.10],
  5:[7.34,1.64,0.14], 6:[7.73,1.81,0.20], 7:[8.15,2.00,0.27], 8:[8.60,2.21,0.35], 9:[9.09,2.44,0.44],
  10:[9.61,2.69,0.56], 11:[10.16,2.98,0.69], 12:[10.76,3.29,0.85], 13:[11.41,3.63,1.04], 14:[12.11,4.02,1.26],
  15:[12.86,4.45,1.52], 16:[13.68,4.92,1.82], 17:[14.60,5.45,2.18], 18:[15.12,6.04,2.59], 19:[16.56,6.70,3.07],
  20:[17.69,7.44,3.64], 21:[18.92,8.26,4.31], 22:[20.27,9.19,5.09], 23:[21.75,10.23,6.00], 24:[23.36,11.40,7.08],
  25:[25.13,12.72,8.34], 26:[27.09,14.21,9.84], 27:[29.24,15.90,11.60], 28:[31.61,17.81,13.70], 29:[34.24,19.98,16.18],
  30:[37.16,22.46,19.13], 31:[40.41,25.28,22.65], 32:[44.04,28.52,26.87], 33:[48.09,32.23,31.94], 34:[52.64,36.50,38.04],
  35:[57.75,41.44,45.41], 36:[63.53,47.16,54.36], 37:[70.01,53.80,65.27], 38:[77.50,61.55,78.61], 39:[85.97,70.61,95.03],
  40:[95.66,81.27,115.31], 41:[106.81,93.85,140.51], 42:[119.67,108.75,171.99], 43:[134.58,126.50,211.56], 44:[151.95,147.74,261.60],
  45:[172.28,173.28,325.34], 46:[196.22,204.19,407.11], 47:[224.55,241.80,512.84], 48:[258.28,287.85,650.67],
  49:[298.71,344.63,831.99], 50:[347.50,415.14,1072.80]
};

function calculate() {
  const c = parseFloat(document.getElementById('c').value);
  const gamma = parseFloat(document.getElementById('gamma').value);
  const B = parseFloat(document.getElementById('B').value);
  const Df = parseFloat(document.getElementById('Df').value);
  const phi = parseFloat(document.getElementById('phi').value);
  const FS = parseFloat(document.getElementById('FS').value);

  if (!bearingTable[phi]) {
    alert('ϕ\' 必須為查表角度：' + Object.keys(bearingTable).join(', '));
    return;
  }

  const [Nc, Nq, Ng] = bearingTable[phi];

  const q = gamma * Df;
  const qu = c * Nc + q * Nq + 0.5 * gamma * B * Ng;
  const qall = qu / FS;

  document.getElementById('Nc').innerText = Nc.toFixed(2);
  document.getElementById('Nq').innerText = Nq.toFixed(2);
  document.getElementById('Ng').innerText = Ng.toFixed(2);

  document.getElementById('qu').innerText = qu.toFixed(2);
  document.getElementById('qall').innerText = qall.toFixed(2);
}
</script>

</body>
</html>
